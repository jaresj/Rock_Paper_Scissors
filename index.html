<!DOCTYPE html>
<html lang=en>
    <head>
        <meta charset="UTF-8">
        <title>Rock Paper Scissors</title>

    </head>
    <body>
        <script>
            // scores
            let playerScore = 0
            let computerScore = 0
            // Computer randomly chooses 
            function computerPlay() {
                var computerArray = ['rock', 'paper', 'scissors'];
                var random = Math.floor(Math.random() * computerArray.length);
                return computerArray[random];
            }
            // function playerSelection() {
            //    var userInput = prompt("Please choose between: Rock, Paper, Scissors.");
            //    return userInput.toLowerCase();
            // }
            
            function playRound() {
                let computerSelection = computerPlay();
                let playerSelection = prompt("Please choose between: Rock, Paper, and Scissors.").toLowerCase();
                

                if (playerSelection === computerSelection) {
                    console.log("It is a tie!");
                    return playRound()
                } else if (playerSelection === "rock") {
                    if (computerSelection === "scissors") {
                        console.log("You win! Rock beats scissors");
                        playerScore++;
                        afterPoint();
                    } else {
                        console.log("You lose! Paper beats Rock");
                        computerScore++;
                        afterPoint();
                    }

                } else if (playerSelection === "paper") {
                    if (computerSelection === "rock") {
                        console.log("You win! Paper beats Rock");
                        playerScore++;
                        afterPoint();
                    } else {
                        console.log("You lose! Scissors beats Paper");
                        computerScore++;
                        afterPoint();
                    }
                } else if (playerSelection === "scissors") {
                    if (computerSelection === "paper") {
                        console.log("You win! Scissors beat Paper!");
                        playerScore++;
                        afterPoint();
                    } else {
                        console.log("You lose! Rock beats Scissors");
                        computerScore++;
                        afterPoint();
                    }
                } else { 
                    console.log("please enter rock, paper, or scissors: ");
                    afterPoint();
                }
                
            }
            // Keeps track of score
            // Announces a winner if someone has reached a score of 5
            function afterPoint() {
                console.log('Player: ' +playerScore)
                console.log('Computer: '+computerScore)
                if(playerScore === 5 ) {
                    console.log('Player Wins!')
                    playerScore = 0;
                    computerScore = 0;
                    playAgain();
                } else if (computerScore === 5) {
                    console.log('Computer Wins!')
                    playerScore = 0
                    computerScore = 0
                    playAgain();
                } else {
                    playRound()
                }
            }

            // Asks if you would like to play again
            function playAgain() {
                const again = prompt('Play again? y/n').toLowerCase();
                if(again === 'n') {
                    return console.log('Thanks for playing!')
                } else if(again === 'y') {
                    game();
                } else {
                    console.log('Please enter y or n!');
                    playAgain();
                }
            }

            // Play a round
            // Repeat until someone has won 5 times
            // return who the winner was after player or computers has reached 5 wins
            function game() {
                console.log('First to 5 wins! Please choose between Rock, Paper, and Scissors');
                playRound();
            }

            game();
    

            // const playerSelection = '';
            // const computerSelection = computerPlay();
            // console.log(playRound(playerSelection, computerSelection));

        </script>
    </body>
</html>